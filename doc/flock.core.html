<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>flock.core documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Flock 0.1.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li class="current"><a href="flock.core.html"><span>flock.core</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="flock.core.html#var-*-1"><span>*-1</span></a></li><li><a href="flock.core.html#var-crossover"><span>crossover</span></a></li><li><a href="flock.core.html#var-crossover-points"><span>crossover-points</span></a></li><li><a href="flock.core.html#var-default-p-leaf"><span>default-p-leaf</span></a></li><li><a href="flock.core.html#var-div"><span>div</span></a></li><li><a href="flock.core.html#var-force-tree"><span>force-tree</span></a></li><li><a href="flock.core.html#var-grow-random-tree"><span>grow-random-tree</span></a></li><li><a href="flock.core.html#var-leaves"><span>leaves</span></a></li><li><a href="flock.core.html#var-listify"><span>listify</span></a></li><li><a href="flock.core.html#var-main"><span>main</span></a></li><li><a href="flock.core.html#var-maximum-depth"><span>maximum-depth</span></a></li><li><a href="flock.core.html#var-mutate"><span>mutate</span></a></li><li><a href="flock.core.html#var-new-genotype"><span>new-genotype</span></a></li><li><a href="flock.core.html#var-ops"><span>ops</span></a></li><li><a href="flock.core.html#var-pair"><span>pair</span></a></li><li><a href="flock.core.html#var-params"><span>params</span></a></li><li><a href="flock.core.html#var-pprint-code"><span>pprint-code</span></a></li><li><a href="flock.core.html#var-qif"><span>qif</span></a></li><li><a href="flock.core.html#var-r"><span>r</span></a></li><li><a href="flock.core.html#var-rand-normal"><span>rand-normal</span></a></li><li><a href="flock.core.html#var-roulette"><span>roulette</span></a></li><li><a href="flock.core.html#var-sigma"><span>sigma</span></a></li><li><a href="flock.core.html#var-terminals"><span>terminals</span></a></li><li><a href="flock.core.html#var-to-code"><span>to-code</span></a></li><li><a href="flock.core.html#var-to-lambda"><span>to-lambda</span></a></li><li><a href="flock.core.html#var-vector-depth"><span>vector-depth</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>flock.core documentation</h2><pre class="doc"></pre><div class="public" id="var-*-1"><h3>*-1</h3><div class="usage"><code>(*-1 x)</code></div><pre class="doc">Unary minus. Note that ordinary (-) is assumed to be binary subtraction.
</pre></div><div class="public" id="var-crossover"><h3>crossover</h3><div class="usage"><code>(crossover p1 p2)</code></div><pre class="doc">Return the result of crossover between genotypes p1 and p2 as (pair c1 c2)

Obeys maximum depth (assuming both parents do); if result of crossover
would have produced a genotype too deep, then only the depth appropriate
child will be returned.</pre></div><div class="public" id="var-crossover-points"><h3>crossover-points</h3><div class="usage"><code>(crossover-points v)</code></div><pre class="doc">Return lazy-seq of crossover/mutation points.
</pre></div><div class="public" id="var-default-p-leaf"><h3>default-p-leaf</h3><div class="usage"></div><pre class="doc">Default probability of a generating a leaf when growing a tree.
</pre></div><div class="public" id="var-div"><h3>div</h3><div class="usage"><code>(div x y)</code></div><pre class="doc">Protected division. Division by zero returns 1.
</pre></div><div class="public" id="var-force-tree"><h3>force-tree</h3><div class="usage"><code>(force-tree max-depth &amp; {:keys [p-leaf], :or {p-leaf default-p-leaf}})</code></div><pre class="doc">grow-random-tree with p-leaf will result in p-leaf percent of the generated
functions being of depth 0 (e.g. (fn [params] some-constant)) This may be
undesirable for larger p-leaf values.

force-tree forces the root of the generated tree to be a function,
guarenteeing some minimum branching, even with larger p-leaf values.</pre></div><div class="public" id="var-grow-random-tree"><h3>grow-random-tree</h3><div class="usage"><code>(grow-random-tree max-depth &amp; {:keys [p-leaf], :or {p-leaf default-p-leaf}})</code></div><pre class="doc">Grow a max-depth limited random code vector.

Optional argument :p-leaf, e.g. (grow-random-tree max-depth :p-leaf 0)
would force a full, max-depth tree.

Leaf nodes are drawn from leaves, interior nodes from ops.</pre></div><div class="public" id="var-leaves"><h3>leaves</h3><div class="usage"></div><pre class="doc">params U terminals
</pre></div><div class="public" id="var-listify"><h3>listify</h3><div class="usage"><code>(listify v)</code></div><pre class="doc">Recursively convert nested collection v into nested lists.
TODO consider changing coll? to vector? for interop concerns</pre></div><div class="public" id="var-main"><h3>main</h3><div class="usage"><code>(main &amp; args)</code></div><pre class="doc">Examples and stuff
</pre></div><div class="public" id="var-maximum-depth"><h3>maximum-depth</h3><div class="usage"></div><pre class="doc">Default maximum depth of genotype.
Randomly grown trees with depth &gt; 15 start to seriously drain performance.</pre></div><div class="public" id="var-mutate"><h3>mutate</h3><div class="usage"><code>(mutate g &amp; {:keys [p-leaf], :or {p-leaf default-p-leaf}})</code></div><pre class="doc">Return the result of point mutating genotype g.
Operation obeys maximum-depth i.e. new genotype will not be too deep,
assuming that the genotype's depth is already less than maximum-depth.</pre></div><div class="public" id="var-new-genotype"><h3>new-genotype</h3><div class="usage"><code>(new-genotype max-depth &amp; {:keys [p-leaf], :or {p-leaf default-p-leaf}})</code></div><pre class="doc">Create a fresh (random) genotype. Genotypes consist of a vector of
[pair code-vector-for-x code-vector-for-y].

pair acts the head of the genotype and will never be replaced/moved by
genetic operators. (This also simplifies the interface.)

The x and y fns are generated using force-tree.</pre></div><div class="public" id="var-ops"><h3>ops</h3><div class="usage"></div><pre class="doc">Map of: operations that can appear in a generated gp code =&gt; their arities
TODO: Add more ops? (e.g. max/min, average)</pre></div><div class="public" id="var-pair"><h3>pair</h3><div class="usage"></div><pre class="doc">Representation for returning a pair of objects. Currently, aliased to list
</pre></div><div class="public" id="var-params"><h3>params</h3><div class="usage"></div><pre class="doc">Formal parameters of generated gp functions.
</pre></div><div class="public" id="var-pprint-code"><h3>pprint-code</h3><div class="usage"><code>(pprint-code code)</code></div><pre class="doc">Pretty-print code (i.e. with indentation and newlines).
</pre></div><div class="public" id="var-qif"><h3>qif</h3><div class="usage"><code>(qif a b c d)</code></div><pre class="doc">Quaternary if. Evaluates to c if a &lt;= b, otherwise, evaluates to d.
</pre></div><div class="public" id="var-r"><h3>r</h3><div class="usage"></div><pre class="doc">Instance of Java Random object for global use (threadsafe).
</pre></div><div class="public" id="var-rand-normal"><h3>rand-normal</h3><div class="usage"><code>(rand-normal mu sigma)</code></div><pre class="doc">Normally distributed random number.
</pre></div><div class="public" id="var-roulette"><h3>roulette</h3><div class="usage"><code>(roulette m)</code></div><pre class="doc">Select one of m's keys with probability proportional to its value.
e.g. (roulette {:a 1 :b 2}) will select :a with probability 1/3.</pre></div><div class="public" id="var-sigma"><h3>sigma</h3><div class="usage"></div><pre class="doc">Standard deviation of number generated at the base of gp trees.
</pre></div><div class="public" id="var-terminals"><h3>terminals</h3><div class="usage"></div><pre class="doc">Terminals of generated gp functions.

TODO: currently, the only type of terminal is some (normally
distributed) real number, but can be extened.</pre></div><div class="public" id="var-to-code"><h3>to-code</h3><div class="usage"><code>(to-code v)</code></div><pre class="doc">Convert nested collection to (unevaluated) anonymous function.
Suitable for viewing a code-vector via (println) or (pprint-code)
Requires params (vector of quoted symbols. e.g. ['x 'y]) to be defined.</pre></div><div class="public" id="var-to-lambda"><h3>to-lambda</h3><div class="usage"><code>(to-lambda v)</code></div><pre class="doc">Convert nested collection to anonymous function for sumary execution.
Requires params (vector of quoted symbols. e.g. ['x 'y]) to be defined.</pre></div><div class="public" id="var-vector-depth"><h3>vector-depth</h3><div class="usage"><code>(vector-depth v)</code></div><pre class="doc">Return the nesting depth of nested vectors.
(Not very efficient.)</pre></div></div></body></html>